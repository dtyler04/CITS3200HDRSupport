{% extends "base.html" %}
{% block title %}Admin Dashboard{% endblock %}
{% block content %}
        <div class="container mt-5">
                <h2>Admin Dashboard</h2>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" id="adminTab" role="tablist">
                        <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="email-tab" data-bs-toggle="tab" data-bs-target="#email" type="button" role="tab" aria-controls="email" aria-selected="true">Email Editor</button>
                        </li>
                        <li class="nav-item" role="presentation">
                                <button class="nav-link" id="rights-tab" data-bs-toggle="tab"
                                        data-bs-target="#rights" type="button" role="tab"
                                        aria-controls="rights" aria-selected="false">
                                        Manage User Rights
                                </button>
                        </li>
                        <!-- Add more tabs here -->
                </ul>
                <!-- Tab panes -->
                <div class="tab-content mt-3">
                        <div class="tab-pane fade show active" id="email" role="tabpanel" aria-labelledby="email-tab">
                                <h4>Create / Manage Emails</h4>
                                {% include "email_editor.html" %}
                        </div>

                        <!-- Rights management tab -->
                        <div class="tab-pane fade" id="rights" role="tabpanel" aria-labelledby="rights-tab">
                                <h4>Change User Rights</h4>
                                <p>Assign or update a user's permission number (e.g. <code>0 = Student</code>, <code>1 = Admin</code>).</p>
                                <form method="post" action="{{ url_for('admin.change_right') }}">
                                        {{ form_right.hidden_tag() }}
                                        <div class="mb-3">
                                                {{ form_right.user_id.label(class="form-label") }}
                                                {{ form_right.user_id(class="form-control", placeholder="User ID") }}
                                                {% for e in form_right.user_id.errors %}
                                                        <div class="text-danger small">{{ e }}</div>
                                                {% endfor %}
                                        </div>

                                        <div class="mb-3">
                                                {{ form_right.permission_number.label(class="form-label") }}
                                                {{ form_right.permission_number(class="form-select") }}
                                                {% for e in form_right.permission_number.errors %}
                                                        <div class="text-danger small">{{ e }}</div>
                                                {% endfor %}
                                        </div>
                                        {{ form_right.submit(class="btn btn-primary") }}
                                </form>
                        </div>
                        <!-- Add more tab panes here -->
                </div>
        </div>
{% endblock %}